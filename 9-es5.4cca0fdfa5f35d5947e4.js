function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{CXQP:function(t,e,n){"use strict";n.r(e),n.d(e,"ShoppingListModule",(function(){return F}));var i=n("3Pt+"),o=n("tyNb"),c=n("PCNd"),r=n("OTVi"),s=n("R0Ic"),a=n("sPvp"),b=n("kt0X"),u=n("ZSCJ"),l=Object(b.j)(u.a,(function(t){return t.ingredients})),d=Object(b.j)(u.a,(function(t){return Object.assign({id:t.editedIngredientId},t.editedIngredient)})),f=Object(b.j)(l,(function(t){return Object.keys(t).map((function(e){return t[e]}))})),p=Object(b.j)(l,(function(t){return Object.keys(t).length})),h=n("fXoL"),m=function t(e,n,i){_classCallCheck(this,t),this.name=e,this.amount=n,this.id=i},g=n("ofXK"),v=["form"];function O(t,e){if(1&t){var n=h.Pb();h.Ob(0,"button",14),h.Wb("click",(function(){return h.ic(n),h.Yb().onDelete()})),h.nc(1," Delete "),h.Nb()}}var y,k=((y=function(){function t(e){_classCallCheck(this,t),this.store=e}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.editModeSubscription=this.store.select(d).subscribe((function(e){e.id?(t.editMode=!0,t.editedIngredient=e,t.form.setValue({name:t.editedIngredient.name,amount:t.editedIngredient.amount})):t.editMode=!1}))}},{key:"onSubmit",value:function(){var t=new m(this.form.value.name,this.form.value.amount),e=null;if(this.editMode){var n=Object.assign(Object.assign({},t),{id:this.editedIngredient.id});e=a.i({ingredient:n})}else e=a.a({ingredients:[t]});this.store.dispatch(e),this.onClear()}},{key:"onClear",value:function(){this.store.dispatch(a.h()),this.clear()}},{key:"onDelete",value:function(){this.store.dispatch(a.c({id:this.editedIngredient.id})),this.clear()}},{key:"clear",value:function(){this.form.reset(),this.editMode=!1,this.editedIngredient=null}},{key:"ngOnDestroy",value:function(){this.editModeSubscription.unsubscribe(),this.store.dispatch(a.h())}}]),t}()).\u0275fac=function(t){return new(t||y)(h.Jb(b.b))},y.\u0275cmp=h.Db({type:y,selectors:[["app-shopping-edit"]],viewQuery:function(t,e){var n;1&t&&h.rc(v,!0),2&t&&h.ec(n=h.Xb())&&(e.form=n.first)},decls:20,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["form","ngForm"],[1,"col-sm-5","form-group"],["for","name"],["ngModel","","required","","id","name","type","text","name","name",1,"form-control"],[1,"col-sm-2","form-group"],["for","amount"],["ngModel","","required","","id","amount","type","text","name","amount",1,"form-control"],[1,"col-sm-5","btn-toolbar"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t&&(h.Ob(0,"div",0),h.Ob(1,"div",1),h.Ob(2,"form",2,3),h.Wb("ngSubmit",(function(){return e.onSubmit()})),h.Ob(4,"div",0),h.Ob(5,"div",4),h.Ob(6,"label",5),h.nc(7,"Name"),h.Nb(),h.Kb(8,"input",6),h.Nb(),h.Ob(9,"div",7),h.Ob(10,"label",8),h.nc(11,"Amount"),h.Nb(),h.Kb(12,"input",9),h.Nb(),h.Nb(),h.Ob(13,"div",0),h.Ob(14,"div",10),h.Ob(15,"button",11),h.nc(16),h.Nb(),h.lc(17,O,2,0,"button",12),h.Ob(18,"button",13),h.Wb("click",(function(){return e.onClear()})),h.nc(19," Cancel "),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Nb()),2&t){var n=h.fc(3);h.zb(15),h.bc("disabled",!n.valid),h.zb(1),h.pc(" ",e.editMode?"Update":"Add"," "),h.zb(1),h.bc("ngIf",e.editMode)}},directives:[i.s,i.m,i.n,i.a,i.l,i.o,i.q,g.j],styles:[""]}),y);function j(t,e){if(1&t){var n=h.Pb();h.Ob(0,"button",7),h.Wb("click",(function(){return h.ic(n),h.Yb().onSave()})),h.nc(1," Save as PDF "),h.Nb()}}function C(t,e){if(1&t){var n=h.Pb();h.Ob(0,"a",8),h.Wb("click",(function(){h.ic(n);var t=e.$implicit;return h.Yb().onEditItem(t.id)})),h.nc(1),h.Nb()}if(2&t){var i=e.$implicit;h.bc("@ingredient",void 0),h.zb(1),h.qc(" ",i.name," (",i.amount,") ")}}function I(t,e){1&t&&(h.Ob(0,"small"),h.nc(1," Your Shopping List seems to be empty so far ... "),h.Nb())}var N,w,_,P,M=((N=function(){function t(e){_classCallCheck(this,t),this.store=e}return _createClass(t,[{key:"ngOnInit",value:function(){console.log("init"),this.ingredients$=this.store.select(f)}},{key:"onEditItem",value:function(t){this.store.dispatch(a.g({id:t}))}},{key:"onSave",value:function(){window.print()}}]),t}()).\u0275fac=function(t){return new(t||N)(h.Jb(b.b))},N.\u0275cmp=h.Db({type:N,selectors:[["app-shopping-list"]],decls:12,vars:9,consts:[[1,"row"],[1,"col-xs-10"],[1,"ingredient-edit"],["type","button","class","btn btn-link save-btn",3,"click",4,"ngIf"],[1,"list-group"],["class","list-group-item","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"btn","btn-link","save-btn",3,"click"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(h.Ob(0,"div",0),h.Ob(1,"div",1),h.Ob(2,"div",2),h.Kb(3,"app-shopping-edit"),h.Nb(),h.lc(4,j,2,0,"button",3),h.Zb(5,"async"),h.Kb(6,"hr"),h.Ob(7,"ul",4),h.lc(8,C,2,3,"a",5),h.Zb(9,"async"),h.Nb(),h.lc(10,I,2,0,"small",6),h.Zb(11,"async"),h.Nb(),h.Nb()),2&t&&(h.zb(4),h.bc("ngIf",h.ac(5,3,e.ingredients$).length>0),h.zb(4),h.bc("ngForOf",h.ac(9,5,e.ingredients$)),h.zb(2),h.bc("ngIf",0===h.ac(11,7,e.ingredients$).length))},directives:[k,g.j,g.i],pipes:[g.b],styles:["@media print{.ingredient-edit[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{display:none!important;height:0}}.save-btn[_ngcontent-%COMP%]{float:right}"],data:{animation:[Object(s.j)("ingredient",[Object(s.g)("in",Object(s.h)({opacity:1,transform:"translateX(0px)"})),Object(s.i)("void => *",[Object(s.h)({opacity:0,transform:"translateX(-100px)"}),Object(s.e)(300)]),Object(s.i)("* => void",[Object(s.e)(300,Object(s.h)({opacity:0,transform:"translateX(100px)"}))])])]}}),N),S=n("LRne"),z=n("snw9"),X=n("IzEk"),$=n("eIep"),x=[{path:"",canActivate:[r.a],component:M,resolve:[(w=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.actions$=n}return _createClass(t,[{key:"resolve",value:function(){var t=this;return this.store.select(p).pipe(Object(X.a)(1),Object($.a)((function(e){return 0===e?(t.store.dispatch(a.e()),t.actions$.pipe(Object(z.d)(a.f),Object(X.a)(1))):Object(S.a)(void 0)})))}}]),t}(),w.\u0275fac=function(t){return new(t||w)(h.Sb(b.b),h.Sb(z.a))},w.\u0275prov=h.Fb({token:w,factory:w.\u0275fac,providedIn:"root"}),w)]}],D=((P=function t(){_classCallCheck(this,t)}).\u0275mod=h.Hb({type:P}),P.\u0275inj=h.Gb({factory:function(t){return new(t||P)},imports:[[o.j.forChild(x)],o.j]}),P),F=((_=function t(){_classCallCheck(this,t)}).\u0275mod=h.Hb({type:_}),_.\u0275inj=h.Gb({factory:function(t){return new(t||_)},imports:[[i.j,o.j,c.a,D]]}),_)}}]);